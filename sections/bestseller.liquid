<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
>
<section class="fruits_card_section">
  <div class="container">
    <div class="fruits_card_section_in">
      <div class="head">
        <div class="left">
           <div class="heading left">
              <h2 data-aos="fade-up" data-aos-duration="1000">{{ section.settings.heading }}</h2>
              <p data-aos="fade-up" data-aos-duration="1000" data-aos-delay="50">{{ section.settings.subheading }}</p>
           </div>
          
        </div>
        <div class="right">
          <a href="{{ section.settings.cta_url | default: section.settings.collection.url }}">
            {{ section.settings.cta_text | default: 'Explore Fresh Picks, Just In' }}
          </a>
        </div>
      </div>
      {%- assign collection = section.settings.collection -%}
      {%- if collection == blank or collection.products_count == 0 -%}
        <p>There are no products inside of this collection.</p>
      {%- else -%}
        <div class="fruits_cards_wrapper for_desktop">
          {% for product in collection.products limit: 4 %}
            {% render 'product-card-primary', product: product, collection: collection %}
          {% endfor %}
        </div>
      {%- endif -%}

    </div>
  </div>
  <div class="fruits_cards_slider slider_container for_responsive">
    <div class="owl-carousel">
      {%- assign collection = section.settings.collection -%}
      {%- if collection == blank or collection.products_count == 0 -%}
        <p>There are no products inside of this collection.</p>
      {%- else -%}
          {% for product in collection.products %}
            {% render 'product-card-primary', product: product, collection: collection %}
          {% endfor %}
      {%- endif -%}
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Bestseller",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Select collection"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section heading",
      "default": "Fresh Picks"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Section subheading",
      "default": "Seasonal favorites"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "CTA URL (right side link)",
      "default": "/collections"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA text",
      "default": "Explore Fresh Picks, Just In"
    }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "Bestseller",
      "category": "Products"
    }
  ]
}
{% endschema %}


<script>
  $(document).ready(function () {
    $('.fruits_cards_slider .owl-carousel').owlCarousel({
      loop: true,
      margin: 20,
      nav: true,
      autoplayTimeout: 3000,
      navText: [
        '<button class="custom-prev"><svg height="18px" width="18px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 185.343 185.343" style="transform: rotate(180deg);"><g><path style="fill:#fff;" d="M51.707,185.343c-2.741,0-5.493-1.044-7.593-3.149c-4.194-4.194-4.194-10.981,0-15.175l74.352-74.347L44.114,18.32c-4.194-4.194-4.194-10.987,0-15.175c4.194-4.194,10.987-4.194,15.18,0l81.934,81.934c4.194,4.194,4.194,10.987,0,15.175l-81.934,81.939C57.201,184.293,54.454,185.343,51.707,185.343z"/></g></svg></button>',
        '<button class="custom-next"><svg height="18px" width="18px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 185.343 185.343"><g><path style="fill:#fff;" d="M51.707,185.343c-2.741,0-5.493-1.044-7.593-3.149c-4.194-4.194-4.194-10.981,0-15.175l74.352-74.347L44.114,18.32c-4.194-4.194-4.194-10.987,0-15.175c4.194-4.194,10.987-4.194,15.18,0l81.934,81.934c4.194,4.194,4.194,10.987,0,15.175l-81.934,81.939C57.201,184.293,54.454,185.343,51.707,185.343z"/></g></svg></button>',
      ],
      responsive: {
        0: {
          items: 1.3,
        },
        480: {
          items: 1.5,
        },
        767: {
          items: 2.2,
        },
        991: {
          items: 2.6,
        },
        1100: {
          items: 3.3,
        },
        1300: {
          items: 3.5,
        },
      },
    });
  });
</script>
